ARG BRANCH_TAG
ARG DOCKER_IMAGE
ARG DOCKER_REGISTRY

FROM ${DOCKER_REGISTRY}/${DOCKER_IMAGE}:${BRANCH_TAG}

ENV GIN_MODE=release 

WORKDIR /app/workers

RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build

ENTRYPOINT ["/app/workers/workers"]
